/*! Fancy-TimeLine vALPHA.1.0 http://juanma-aguero.github.com/fancy-timeline/ */
function positionTo(a){var b=$("#middle").offset();var c=$("#pointer-date-"+a).offset();var d=c.left-b.left;var e=$("#timeline-dates").offset();var f=e.left-d-window.innerWidth/7;$("#timeline-dates").animate({left:f},400)}function sliderTo(a){$(".timeline-item").removeClass("active");$(".pointer-date").animate({height:20},100);$(".date").animate({marginTop:0,marginLeft:-10},100);$(".date").removeClass("date-focus");var b=$("#middle").offset();var c=$("#date-"+a).offset();var d=c.left-b.left;var e=$("#timeline-slider").offset();var f=e.left-d-window.innerWidth/5;positionTo(a);$("#timeline-slider").animate({left:f},800);$("#date-"+a).toggleClass("active",500);$("#pointer-date-"+a).animate({height:30},400);$("#pointer-"+a).animate({marginTop:15,marginLeft:-20},200);$("#pointer-"+a).toggleClass("date-focus",200);actualPos=a}function moveForward(){sliderTo(actualPos+1)}function moveBackward(){sliderTo(actualPos-1)}actualPos=0;(function(a){a.fn.fancyTimeline=function(b){var c=0;var d=20;var e=350;var f=50;html='<div id="timeline" class="timeline">';html+='<div id="timeline-slider"></div>';html+='<div id="middle">.</div>';html+="<div>";html+='    <div id="timeline-dates-line"></div>';html+='    <div id="timeline-dates"></div>';html+="</div>";html+='<div id="backward" class="arrow" onclick="moveBackward();"><span><</span></div>';html+='<div id="forward" class="arrow" onclick="moveForward();"><span>></span></div>';html+="</div>";a(this).append(html);var g="";var h="";var i=b.data;var j=(d+e)*(i.length+1);a("#timeline-slider").css("width",j);var k=f*(i.length+1);a("#timeline-dates").css("width",k);var l=0;for(l=0;l<i.length;l++){var m=i[l];var n="";if(m.type=="default"){n+='<div id="date-'+l+'" class="timeline-item item-default" >';n+='<div class="timeline-item-content" >';n+='<span class="title"">'+m.title+"</span>";n+=m.content;n+="</div>";n+="</div>"}g+=n;h+='<div class="date-container">';h+='<div class="pointer-date" id="pointer-date-'+l+'" />';h+='<div class="pointer-date-separator" />';h+='<div class="pointer-date-separator" />';h+='<div class="pointer-date-separator" /><br/>';h+='<a class="date" id="pointer-'+l+'">';h+=m.marker;h+="</a>";h+="</div>"}a("#timeline-slider").html(g);a("#timeline-dates").html(h);a(".date").bind("click",function(){var b=a(this).attr("id").split("-");sliderTo(b[1])});a(".timeline-item-i").bind("click",function(){a(this).next().toggle()});sliderTo(c)}})(jQuery)
